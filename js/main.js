function setScale(){scale=innerWidth>innerHeight/slideRatio?innerHeight/slideRatio/slideWidth:innerWidth*slideRatio/slideHeight,scale=Math.max(Math.min(scale,scaleMax),scaleMin)+.001,scaleOutline=1/scale*5,slide.style.transform="scale("+scale+")",slide.style.outlineWidth=scaleOutline+"px"}function onResize(e){setScale()}function onKeydown(e){keyCodes.up.indexOf(e.which)>-1?keys.up=1:keyCodes.right.indexOf(e.which)>-1?keys.right=1:keyCodes.down.indexOf(e.which)>-1?keys.down=1:keyCodes.left.indexOf(e.which)>-1&&(keys.left=1),keyCodes.up.indexOf(e.which)>-1?dirs.up.classList.add("is-active"):keyCodes.right.indexOf(e.which)>-1?dirs.right.classList.add("is-active"):keyCodes.down.indexOf(e.which)>-1?dirs.down.classList.add("is-active"):keyCodes.left.indexOf(e.which)>-1&&dirs.left.classList.add("is-active")}function onKeyup(e){keyCodes.up.indexOf(e.which)>-1?keys.up=0:keyCodes.right.indexOf(e.which)>-1?keys.right=0:keyCodes.down.indexOf(e.which)>-1?keys.down=0:keyCodes.left.indexOf(e.which)>-1&&(keys.left=0),keyCodes.up.indexOf(e.which)>-1?dirs.up.classList.remove("is-active"):keyCodes.right.indexOf(e.which)>-1?dirs.right.classList.remove("is-active"):keyCodes.down.indexOf(e.which)>-1?dirs.down.classList.remove("is-active"):keyCodes.left.indexOf(e.which)>-1&&dirs.left.classList.remove("is-active")}var slide=document.querySelector(".slide"),slideBcr=slide.getBoundingClientRect(),slideWidth=slideBcr.width,slideHeight=slideBcr.height,slideRatio=slideHeight/slideWidth,scaleMin=0,scaleMax=1/0,scale,scaleOutline,keyCodes={up:[38,87],right:[39,68],down:[40,83],left:[37,65]},keys={up:0,right:0,down:0,left:0},dirs={up:document.querySelector(".dir-up"),right:document.querySelector(".dir-right"),down:document.querySelector(".dir-down"),left:document.querySelector(".dir-left")};addEventListener("resize",onResize),addEventListener("keydown",onKeydown),addEventListener("keyup",onKeyup),setScale();